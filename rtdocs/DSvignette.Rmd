---
output: html_document
---
## gTrack Tutorial On An Artifically Small Data Set 

```{r, include=FALSE }
    library(gTrack)
    library(gUtils) 
```

# Overlapping Segments 
### gr.tile(gr , w)
##### tile ranges across GRanges 
  
``` {r}
  ## Given a GRanges object, separate the interval by "w". 
  ## In this example, the output will be 20 equal sized tiles

  gr <- gr.tile(GRanges(1, IRanges(1,100)), w=5)
    
  ## Plot how the tiles would like 
  plot(gTrack(gr))
``` 

### Overlapping Tiles - gTrack(gr + n)
##### indicate the degree of overlap
``` {r}
  ## "1" in this example adds one more title to each interval 
  plot(gTrack(gr+1))
``` 

### gTrack(gr , stack.gap = n) 
##### vector or scaler numeric specifiying x gap between stacking non-numeric GRanges or GRangesLists items in track(s). 
``` {r}
  # first, create GRanges object.
  gr <- GRanges(seqnames = Rle(c("chr1" , "chr2" , "chr1" , "chr3") ,
  c(1,3,2,4)), ranges = IRanges(c(1,3,5,7,9,11,13,15,17,19) , end =
  c(2,4,6,8,10,12,14,16,18,20), names = head(letters,10)), GC=seq(1,10,length=10), name=seq(5,10,length=10))

  print(gr)

  # instead of plotting GRanges in a linear fashion, like this example 
  plot(gTrack(gr))
  
  # use the stack.gap parameter! 1by default but, if changed to any numeric(n), n levels will be created where 
  # the data will be plotted. 
  
  # 2 levels 
  plot(gTrack(gr , stack.gap=2))
    
  # 3 levels
  plot(gTrack(gr , stack.gap=3))
```  
  
### gTrack(gr , y.field='GC')
##### vector or scalar numeric specifying gap between tracks (add a dimension to the data) 
``` {r}  
  plot(gTrack(gr , y.field='GC'))
```

### gTrack(gr, bars=TRUE/FALSE)
``` {r}
  plot(gTrack(gr , y.field='GC', bars = TRUE, col = "light blue"))
```    

### gTrack(gr , lines=TRUE/FALSE)
```{r}
  plot(gTrack(gr , y.field='GC' , lines = TRUE , col = "purple"))
```

### gTrack(gr, circles = TRUE/FALSE)
```{r}
  plot(gTrack(gr , y.field='GC' , circles = TRUE , col = "magenta" , border='60'))
``` 
 
#### colorfield 
##### map values to colors! Legend is automatically added 
```{r}
  plot(gTrack(gr , y.field = 'GC' , bars = TRUE , col = NA , colormaps = list(GC = c("1"="red" , "2" = "blue" , "3"="magenta", "4"="light blue" ,"5"="black" , "6"="green", "7"="brown" , "8"="pink", "9"="yellow", "10" = "orange")) ))
```

#### gr.colorfield 
##### same as colorfield but, gTrack will choose the mapping values for you! Good for quick plot generations of large data sets. 
```{r}
  plot(gTrack(gr , y.field = 'GC' , bars = TRUE , col = NA , gr.colorfield = "GC"))
```


#### gr.labelfield 
##### add certain meta data values to data points on graph 
```{r}
  plot(gTrack(gr , y.field = 'GC' , bars = TRUE , col = NA , gr.colorfield = "GC", gr.labelfield="name" ))
```

# GRangesList

```{r}
  # first, create GRanges object for chroms 1-3. Each chrom stores regions of exons
  chrom1 <- GRanges(seqnames=Rle(rep(1,5)) , ranges = IRanges(c(13214448,13377047,17190862,17284920,30741950) , end=c(13376489,17190004,17283075,30741656,30745210)))

  chrom2 <- GRanges(seqnames=Rle(rep(2,5)) , ranges = IRanges(c(34675467,34737163,50880025,50882016,51098931) , end = c(34737057,50879519,50880979,51089715,51099793)))
  
  chrom3 <- GRanges(seqnames=Rle(rep(3,5)) , ranges = IRanges(c(5883026,5888521,6651128,6655078,10251906) , end = c(5887648,6646543,6653332,10245198,10254797)))
  
  chroms <- GRangesList("chrom1" = chrom1 , chrom2 = "chrom2" , chrom3 = "chrom3")
```

